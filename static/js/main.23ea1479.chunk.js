(this["webpackJsonpsurvey-app"]=this["webpackJsonpsurvey-app"]||[]).push([[0],{146:function(e,t,a){e.exports=a(229)},151:function(e,t,a){},153:function(e,t,a){},199:function(e,t,a){},211:function(e,t,a){},225:function(e,t,a){},226:function(e,t,a){},229:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),u=a.n(o),c=(a(151),a(29)),l=a(15),i=(a(152),a(28)),s=a(233),m=a(236),d=Object(n.createContext)(null),v=a(234),p=(a(153),function(e){var t=e.currentStep,a=e.totalQuestion,n=e.progress;return r.a.createElement("div",{className:"progressWrapper"},r.a.createElement("span",{className:"progress-info"},t-1," of ",a," answered"),r.a.createElement("div",{className:"progress-bar"},r.a.createElement(v.a,{percent:parseInt(n)})))}),f=(a(199),function(e){var t=e.children,a=Object(n.useState)(0),o=Object(i.a)(a,2),u=o[0],c=o[1],l=r.a.useContext(d).surveyState,v=l.totalQuestion,f=l.currentStep,b=l.inProgress,y=s.a.Title,h=m.a.Footer,E=m.a.Content,g=m.a.Header;return Object(n.useEffect)((function(){c(((f-1)/v*100).toFixed(0))}),[f,v]),r.a.createElement(m.a,{className:"layout"},r.a.createElement(g,{className:"header"},r.a.createElement(y,{level:1},"Survey")),r.a.createElement(E,{className:"content"},r.a.createElement("div",{className:"frame-header"}),t,r.a.createElement("div",{className:"frame-footer"},b&&r.a.createElement(p,{currentStep:f,totalQuestion:v,progress:u}))),r.a.createElement(h,{style:{textAlign:"center"}},"Created by Jobe"))}),b=a(230),y=a(25),h=a.n(y),E=a(22),g=a(43),S=function(e){switch(e){case"surveys":return{surveys:[{id:1,tagline:"Personal",title:"Survey about you"},{id:1,tagline:"Personal",title:"Survey about you"},{id:1,tagline:"Personal",title:"Survey about you"},{id:1,tagline:"Personal",title:"Survey about you"},{id:1,tagline:"Personal",title:"Survey about you"},{id:1,tagline:"Personal",title:"Survey about you"}]};case"detail":return{survey:{title:"This is title",questions:[{title:"What is your name?",options:["Alex","Rob","Bob"],id:"1"},{title:"What is your age?",options:["1","2","3"],id:"2"},{title:"What is your height?",options:["1.5","2.5","3.5"],id:"3"},{title:"When will you change?",options:["today","tomorrow","day after tomorrow"],id:"4"}]}};default:return{j:""}}},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Object(n.useState)({data:null,loading:!0,error:!1}),r=Object(i.a)(a,2),o=r[0],u=r[1];return Object(n.useEffect)((function(){(function(){var t=Object(g.a)(h.a.mark((function t(){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a=S(e),console.log(a),u((function(e){return Object(E.a)(Object(E.a)({},e),{},{data:a,loading:!1})}))}catch(n){u((function(e){return Object(E.a)({error:!0,loading:!1},e)}))}case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e,t.id]),Object(E.a)({},o)},O=(a(211),a(232)),w=function(e){var t=e.id,a=e.title,n=e.tagline;return r.a.createElement(c.b,{to:"/survey/".concat(t)},r.a.createElement(O.a,{className:"link",title:a,bordered:!1,style:{width:300}},r.a.createElement("p",null,n)))},k=function(){var e=j("surveys"),t=e.data;return e.loading?r.a.createElement(b.a,{tip:"Loading..."}):r.a.createElement(r.a.Fragment,null,t.surveys.map((function(e){var t=e.id,a=e.title,n=e.tagline;return r.a.createElement(w,{key:t,id:t,title:a,tagline:n})})))},x=a(231),N=a(237),C=a(235),P=(a(225),function(e){var t=e.title,a=e.options,n=e.onChange,o=e.questionId,u=s.a.Title;return r.a.createElement(r.a.Fragment,null,r.a.createElement(u,{className:"question-title",level:2},t),r.a.createElement(C.a.Group,{onChange:n,size:"large"},a.map((function(e,t){return r.a.createElement(C.a,{key:t,className:"radioStyle",value:"".concat(o,"##").concat(e)},e)}))))});a(226);function q(){var e=Object(l.h)().id,t=j("detail",{id:e}),a=t.data,o=t.loading,u=function(){var e=Object(n.useState)(0),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(""),u=Object(i.a)(o,2),c=u[0],s=u[1],m=Object(n.useRef)([]),v=Object(n.useContext)(d),p=v.surveyState,f=p.totalQuestion,b=p.currentStep,y=v.setSurveyState,S=Object(l.g)(),j=function(){var e=Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:({completion:m.current});try{"ok"==={status:"ok"}.status&&(y((function(e){return Object(E.a)(Object(E.a)({},e),{},{completed:!0,inProgress:!1})})),S.push("/result"))}catch(t){console.log(t),S.push("/home")}case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=c.split("##"),t=Object(i.a)(e,2),a={question_id:t[0],value:t[1]};m.current.push(a)};return{questionIndex:a,handleChange:function(e){s(e.target.value)},setSurveyState:y,handleSubmit:function(e){if(e){if(e.preventDefault(),y((function(e){return Object(E.a)(Object(E.a)({},e),{},{currentStep:e.currentStep+1})})),O(),f===b)return void j();r((function(e){return e+1})),s("")}},value:c}}(),c=u.questionIndex,v=u.setSurveyState,p=u.handleSubmit,f=u.handleChange,y=u.value;if(Object(n.useEffect)((function(){o||v((function(e){return Object(E.a)(Object(E.a)({},e),{},{totalQuestion:a.survey.questions.length,currentStep:1,inProgress:!0})}))}),[a,o,v]),o)return r.a.createElement(b.a,{tip:"Loading...",size:"large"});var S=a.survey,O=S.title,w=S.questions[c],k=w.title,C=w.options,q=w.id,T=s.a.Title,W=m.a.Content;return r.a.createElement("div",{className:"survey"},r.a.createElement(x.a,null,r.a.createElement(T,{level:1},O)),r.a.createElement(W,null,r.a.createElement("form",{onSubmit:p},r.a.createElement(P,{title:k,options:C,onChange:f,questionId:q}),r.a.createElement("div",{className:"button-holder"},r.a.createElement(N.a,{type:"primary",htmlType:"submit",shape:"round",size:"default",disabled:!y},"Next")))))}var T=a(238),W=function(){return r.a.createElement(T.a,{status:"success",title:"You have successfully completed the survey!",subTitle:"Thanks for answering the survey!",extra:[r.a.createElement(c.b,{to:"/",key:"link"},r.a.createElement(N.a,{type:"primary",shape:"round",size:"default"},"Back to survey"))]})},I=function(e){var t=r.a.useContext(d).surveyState.completed;return r.a.createElement(l.b,{render:function(){return t?r.a.createElement(W,null):r.a.createElement(l.a,{to:"/"})}})},Q=function(){var e=function(){var e=Object(n.useState)({completed:!1,totalQuestion:0,currentStep:0,inProgress:!1}),t=Object(i.a)(e,2),a=t[0],r=t[1];return{surveyState:a,setSurveyState:Object(n.useCallback)((function(e){r(e)}),[])}}();return r.a.createElement("div",{className:"App"},r.a.createElement(d.Provider,{value:e},r.a.createElement(c.a,null,r.a.createElement(f,null,r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/survey/:id"},r.a.createElement(q,null)),r.a.createElement(l.b,{exact:!0,path:"/result"},r.a.createElement(I,null)),r.a.createElement(l.b,{exact:!0,path:"/"},r.a.createElement(k,null)))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=a(143);Object(B.a)().get("/api/users",{users:[{id:1,name:"Bob"}]}),u.a.render(r.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[146,1,2]]]);
//# sourceMappingURL=main.23ea1479.chunk.js.map